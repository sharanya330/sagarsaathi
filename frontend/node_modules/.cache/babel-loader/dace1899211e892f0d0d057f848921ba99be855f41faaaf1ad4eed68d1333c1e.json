{"ast":null,"code":"var _jsxFileName = \"/Users/sharanya/Desktop/sagarsaathi/frontend/src/pages/LoginUser.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport api from '../utils/api';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginUser = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    login\n  } = useAuth();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const {\n    email,\n    password\n  } = formData;\n  const onChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const onSubmit = async e => {\n    e.preventDefault();\n    setMessage('');\n    setLoading(true);\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      const response = await api.post('/api/users/login', formData, config);\n\n      // Assuming successful login returns a token\n      if (response.data.token) {\n        login(response.data.token, {\n          _id: response.data._id,\n          name: response.data.name,\n          email: response.data.email\n        }, 'user');\n        navigate('/dashboard');\n        // In a real app, save the token to localStorage or Context\n        console.log('Login Successful! Token:', response.data.token);\n        setMessage('Login successful! Welcome back.');\n\n        // Clear form and redirect to dashboard later\n        setFormData({\n          email: '',\n          password: ''\n        });\n      }\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      // Handle specific API errors (Invalid email or password)\n      const errorMessage = error.response && error.response.data && error.response.data.message ? error.response.data.message : 'Login failed. Server error.';\n      setMessage(errorMessage);\n      console.error('Login API Error:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.header,\n      children: \"User Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      style: styles.form,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email Address\",\n        name: \"email\",\n        value: email,\n        onChange: onChange,\n        required: true,\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        value: password,\n        onChange: onChange,\n        minLength: \"6\",\n        required: true,\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        style: styles.button,\n        children: loading ? 'Processing...' : 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        ...styles.message,\n        color: message.includes('successful') ? '#28a745' : '#dc3545'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n\n// Reusing styles from the registration form for consistency\n_s(LoginUser, \"flDiP6mie/VYMo8RqchhlOTs/1k=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = LoginUser;\nconst styles = {\n  container: {\n    maxWidth: '400px',\n    margin: '50px auto',\n    padding: '20px',\n    border: '1px solid #ccc',\n    borderRadius: '8px',\n    boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\n    fontFamily: 'Arial, sans-serif'\n  },\n  header: {\n    textAlign: 'center',\n    marginBottom: '20px',\n    color: '#333'\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  input: {\n    padding: '10px',\n    marginBottom: '15px',\n    border: '1px solid #ddd',\n    borderRadius: '4px',\n    fontSize: '16px'\n  },\n  button: {\n    padding: '12px',\n    backgroundColor: '#007bff',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontSize: '16px'\n  },\n  message: {\n    marginTop: '20px',\n    textAlign: 'center',\n    fontWeight: 'bold'\n  }\n};\nexport default LoginUser;\nvar _c;\n$RefreshReg$(_c, \"LoginUser\");","map":{"version":3,"names":["React","useState","api","useNavigate","useAuth","jsxDEV","_jsxDEV","LoginUser","_s","navigate","login","formData","setFormData","email","password","message","setMessage","loading","setLoading","onChange","e","target","name","value","onSubmit","preventDefault","config","headers","response","post","data","token","_id","console","log","error","errorMessage","style","styles","container","children","header","fileName","_jsxFileName","lineNumber","columnNumber","form","type","placeholder","required","input","minLength","disabled","button","color","includes","_c","maxWidth","margin","padding","border","borderRadius","boxShadow","fontFamily","textAlign","marginBottom","display","flexDirection","fontSize","backgroundColor","cursor","marginTop","fontWeight","$RefreshReg$"],"sources":["/Users/sharanya/Desktop/sagarsaathi/frontend/src/pages/LoginUser.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport api from '../utils/api';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\n\nconst LoginUser = () => {\n    const navigate = useNavigate();\n    const { login } = useAuth();\n    const [formData, setFormData] = useState({\n        email: '',\n        password: '',\n    });\n    const [message, setMessage] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    const { email, password } = formData;\n\n    const onChange = (e) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n    };\n\n    const onSubmit = async (e) => {\n        e.preventDefault();\n        setMessage('');\n\n        setLoading(true);\n\n        try {\n            const config = {\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            };\n\nconst response = await api.post('/api/users/login', formData, config);\n\n            // Assuming successful login returns a token\nif (response.data.token) {\n                login(response.data.token, { _id: response.data._id, name: response.data.name, email: response.data.email }, 'user');\n                navigate('/dashboard');\n                // In a real app, save the token to localStorage or Context\n                console.log('Login Successful! Token:', response.data.token);\n                setMessage('Login successful! Welcome back.');\n                \n                // Clear form and redirect to dashboard later\n                setFormData({ email: '', password: '' });\n            }\n            setLoading(false);\n        } catch (error) {\n            setLoading(false);\n            // Handle specific API errors (Invalid email or password)\n            const errorMessage = error.response && error.response.data && error.response.data.message\n                ? error.response.data.message\n                : 'Login failed. Server error.';\n            setMessage(errorMessage);\n            console.error('Login API Error:', error);\n        }\n    };\n\n    return (\n        <div style={styles.container}>\n            <h2 style={styles.header}>User Login</h2>\n            <form onSubmit={onSubmit} style={styles.form}>\n                <input\n                    type=\"email\"\n                    placeholder=\"Email Address\"\n                    name=\"email\"\n                    value={email}\n                    onChange={onChange}\n                    required\n                    style={styles.input}\n                />\n                <input\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={onChange}\n                    minLength=\"6\"\n                    required\n                    style={styles.input}\n                />\n                <button type=\"submit\" disabled={loading} style={styles.button}>\n                    {loading ? 'Processing...' : 'Login'}\n                </button>\n            </form>\n            {message && <p style={{...styles.message, color: message.includes('successful') ? '#28a745' : '#dc3545'}}>{message}</p>}\n        </div>\n    );\n};\n\n// Reusing styles from the registration form for consistency\nconst styles = {\n    container: {\n        maxWidth: '400px',\n        margin: '50px auto',\n        padding: '20px',\n        border: '1px solid #ccc',\n        borderRadius: '8px',\n        boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\n        fontFamily: 'Arial, sans-serif',\n    },\n    header: {\n        textAlign: 'center',\n        marginBottom: '20px',\n        color: '#333',\n    },\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    input: {\n        padding: '10px',\n        marginBottom: '15px',\n        border: '1px solid #ddd',\n        borderRadius: '4px',\n        fontSize: '16px',\n    },\n    button: {\n        padding: '12px',\n        backgroundColor: '#007bff',\n        color: 'white',\n        border: 'none',\n        borderRadius: '4px',\n        cursor: 'pointer',\n        fontSize: '16px',\n    },\n    message: {\n        marginTop: '20px',\n        textAlign: 'center',\n        fontWeight: 'bold',\n    },\n};\n\nexport default LoginUser;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}